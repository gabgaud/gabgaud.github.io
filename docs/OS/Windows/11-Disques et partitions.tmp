import useBaseUrl from '@docusaurus/useBaseUrl';
import ThemedImage from '@theme/ThemedImage';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Disques et partitions üíæ

Lorsqu'on installe un syst√®me d'exploitation, qu'on ajoute un disque dur ou qu'on veut organiser ses fichiers, la gestion des disques devient essentielle. Une bonne ma√Ætrise des partitions permet de :

- Pr√©parer un disque pour l'installation d'un syst√®me d'exploitation.

- S√©parer les donn√©es personnelles des fichiers syst√®me.

- Optimiser l'utilisation de l'espace disque.

- S√©curiser ou organiser les donn√©es (sauvegardes, chiffrement, etc.).

Dans Windows, plusieurs outils sont √† notre disposition pour g√©rer les disques, que ce soit en mode graphique ou en ligne de commande.

## Disque physique, partition et volume

Un **disque physique** est un support de stockage tangible, comme un disque dur (hdd), un disque √©lectronique (ssd) ou m√™me une cl√© USB. C'est que l'on branche physiquement √† l'ordinateur.

Une **partition** est une subdivision d'un disque physique. Un disque peut √™tre divis√© en plusieurs partitions, et chaque partition est trait√©e par le syst√®me d'exploitation comme une unit√© distincte. Par exemple, un disque peut avoir une partition pour le syst√®me d'exploitation (C:), une autre pour les donn√©es personnelles (D:), et ainsi de suite.

Dans un syst√®me d'exploitation, **un volume** d√©signe une unit√© logique de stockage qui peut inclure une ou plusieurs partitions, ou m√™me une partie d'une partition, utilis√©e pour stocker des donn√©es. C'est une abstraction utilis√©e par le syst√®me d'exploitation pour g√©rer les donn√©es sur le disque de mani√®re plus flexible.

<div style={{textAlign: 'center'}}>
    <ThemedImage
        alt="Sch√©ma"
        sources={{
            light: useBaseUrl('/img/Windows/hdd_w.svg'),
            dark: useBaseUrl('/img/Windows/hdd_d.svg'),
        }}
    />
</div>

## La table de partition : MBR vs GPT

La table de partition indique comment le disque est divis√©. Comme les partitions ne sont pas litt√©ralement √©crites au crayon sur le disque, la table de partition conserve les endroits o√π d√©bute et se termine chaque partition.

### MBR

C'est un format de table de partition qui est sur le point de disparaitre. Cependant, il pourrait vous arriver de croiser cette table de partition encore quelques ann√©es:

- Utilis√© depuis les ann√©es 80
- Limit√© √† 4 partitions: 3 principales + 1 √©tendue (dans laquelle on peut cr√©er des partitions logiques)
- Capacit√© maximale par partition de 2To
- Compatible avec les syst√®mes BIOS

### GPT

- Format plus r√©cent, faisant partie de la norme UEFI
- Supporte jusqu'√† 128 partitions sur Windows
- Limite de taille des partitions de 9.4Zo (9.4 milliards de Terra-octets ü§Ø)
- Plus robutste: stocke plusieurs copie de la table de partition
- Obligatoire pour d√©marrage avec UEFI

## Les types de partition

Lorsque vous utilisez une table de partition GPT, il n'y a qu'un seul type de partition : primaire! N√©anmoins, lorsque vous utilisez une table de partition de type MBR, il existe plus d'un type de partition d√©pendemment de ce que vous d√©sirez accomplir:

- **Partition primaire:**
    - Peut contenir un syst√®me d'exploitation ou des donn√©es.
    - Le syst√®me d'exploitation ne peut d√©marrer qu'√† partir d'une partition primaire.
- **Partition √©tendue:**
    - Partition sp√©ciale qui permet de cr√©er plusieurs partitions logiques.
    - Utile pour ne pas √™tre limit√© par le seuil de 4 partitions impos√© par MBR.
- **Partition logique:**
    - N'existe qu'au sein d'une partition √©tendue.
    - Ne peut contenir que des donn√©es (pas de OS)

## Les syst√®mes de fichiers üçï

J'aime bien faire la comparaison entre un syst√®me de fichiers et une pizza. Peu importe votre restaurant pr√©f√©r√©, une pizza p√©p√©ronni fromage restera toujours une pizza p√©p√©ronni fromage. Pourtant, chaque chef de restaurant vous dira que c'est leur recette la meilleure. Pourquoi ? Certains vous diront que c'est parce qu'ils commencent avec un ingr√©dient avant d'en mettre un second alors que d'autres vous diront que le secret est dans la sauce.

Les syst√®mes de fichiers, c'est sensiblement pareil. C'est la mani√®re dont les fichiers sont organis√©s et stock√©s sur un volume. Il existe une panoplie de syst√®me de fichiers. Certains sont plus ax√©s sur la s√©curit√©, d'autres sur la capacit√© de stockage, etc. Ils ont tous leur recette üòâ

- **NTFS (New Technology File System):**
    - Syst√®me de fichiers par d√©faut de Windows.
    - Supporte les fichiers plus grand que 4Go.
- **FAT32:**
    - Ancien mais encore utilis√© pour la compatibilit√© (ex: Cl√© USB)
    - Taille des fichiers limit√© √† plus ou moins 3,8Go
    - Taille des partitions limit√© √† 32Go sous Windows
    - Compatible avec Windows, Linux, MacOS et plusieurs consoles de jeux
- **exFAT (Extended File Allocation Table):**
    - Con√ßu pour les supports amovibles (cl√© USB, disques externes, etc)
    - Pas de limite de taille de fichier ou de partition
    - Compatible avec Windows, MacOS et Linux

## Point de montage

Windows est un syst√®me d'exploitation √† racine multiple. Chaque volume se voit attribuer une lettre correspondant √† sa racine.

:::tip[Le saviez-vous ?]
Ce n'est pas obligatoire d'octroyer une racine √† volume. Nous pourrions proc√©der de la m√™me fa√ßon que nous le faisons sous Linux, c'est-√†-dire en cr√©ant un point de montage directement dans un dossier vide du syst√®me.
:::

## Outils de gestion des disques

La gestion des disques sous Windows peut se faire via plusieurs interfaces, chacune adapt√©e √† un contexte particulier : interface graphique conviviale pour les utilisateurs, ligne de commande pour les administrateurs ou les scripts automatis√©s.

### Console de gestion des disques

La console de gestion des disques de Windows est accessible directement depuis la console de gestion de l'ordinateur ou en entrant la commande `diskmgmt.msc` de la fen√™tre *Ex√©cuter...* 

La console poss√®de certaines fonctionnalit√©s int√©ressantes mais demeure asssez limit√© lorsque vient le temps d'effectuer des op√©rations avanc√©es.

**Fonctionnalit√©s principales:**
- Affiche tous les disques physiques et leurs partitions.
- Permet de cr√©er, supprimer, formater des partitions.
- Permet de modifier la lettre d'un volume.
- etc...

